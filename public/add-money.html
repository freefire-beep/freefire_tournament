<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Money - Elite Nexus</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="background-color: #0d1117; color: white; padding: 20px; font-family: sans-serif;">

    <div style="text-align: center; margin-bottom: 20px;">
        <h2 style="color: #58a6ff;">üí∞ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</h2>
        <p style="color: gray; font-size: 14px;">‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá ‡¶´‡¶∞‡ßç‡¶Æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
    </div>

    <div style="background: #161b22; padding: 15px; border-radius: 10px; border: 1px solid #30363d; margin-bottom: 20px;">
        <p style="margin: 5px 0;"><strong>‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ (Personal):</strong> 017XXXXXXXX</p>
        <p style="margin: 5px 0;"><strong>‡¶®‡¶ó‡¶¶ (Personal):</strong> 019XXXXXXXX</p>
        <p style="font-size: 12px; color: #ff7b72; margin-top: 10px;">* ‡¶∏‡¶∞‡ßç‡¶¨‡¶®‡¶ø‡¶Æ‡ßç‡¶® ‡ßß‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§ ‡¶∏‡ßá‡¶®‡ßç‡¶° ‡¶Æ‡¶æ‡¶®‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ‡¶ü‡¶ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
    </div>

    <div id="deposit-form">
        <label style="font-size: 13px; color: gray;">‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</label>
        <input type="number" id="amount" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡ßß‡ß¶‡ß¶" style="width: 100%; padding: 12px; margin: 8px 0; border-radius: 5px; border: 1px solid #30363d; background: #0d1117; color: white; box-sizing: border-box;">
        
        <label style="font-size: 13px; color: gray;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂/‡¶®‡¶ó‡¶¶ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</label>
        <input type="text" id="senderNum" placeholder="017XXXXXXXX" style="width: 100%; padding: 12px; margin: 8px 0; border-radius: 5px; border: 1px solid #30363d; background: #0d1117; color: white; box-sizing: border-box;">
        
        <label style="font-size: 13px; color: gray;">Transaction ID (TrxID)</label>
        <input type="text" id="trxId" placeholder="8N7X6W5Q" style="width: 100%; padding: 12px; margin: 8px 0; border-radius: 5px; border: 1px solid #30363d; background: #0d1117; color: white; box-sizing: border-box;">

        <button id="submitBtn" onclick="submitDeposit()" style="width: 100%; padding: 12px; background: #238636; border: none; color: white; border-radius: 5px; font-weight: bold; margin-top: 15px; cursor: pointer;">‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</button>
        
        <button onclick="location.href='home.html'" style="width: 100%; padding: 10px; background: transparent; border: 1px solid gray; color: gray; border-radius: 5px; margin-top: 10px; cursor: pointer;">‡¶™‡¶ø‡¶õ‡¶®‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</button>
    </div>

    <script>
        // ‡¶∏‡ßá‡¶∂‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ
        const user = JSON.parse(sessionStorage.getItem('user'));
        if(!user) {
            window.location.href = 'index.html';
        }

        async function submitDeposit() {
            const amount = document.getElementById('amount').value;
            const sender = document.getElementById('senderNum').value;
            const trx = document.getElementById('trxId').value;
            const btn = document.getElementById('submitBtn');

            if(!amount || !sender || !trx) {
                alert("‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶∏‡¶¨ ‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶¶‡¶ø‡¶®!");
                return;
            }

            btn.disabled = true;
            btn.innerText = "‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";

            try {
                // SheetDB ‡¶§‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã (Deposits ‡¶®‡¶æ‡¶Æ‡¶ï ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡ßá)
                const response = await fetch('https://sheetdb.io/api/v1/3dn8ej3m7h685?sheet=Deposits', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        "Game_ID": user.gameId,
                        "Name": user.name,
                        "Amount": amount,
                        "Sender_Number": sender,
                        "TrxID": trx,
                        "Time": new Date().toLocaleString(),
                        "Status": "Pending"
                    })
                });

                if(response.ok) {
                    alert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶®‡¶ü‡¶ø ‡¶ú‡¶Æ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶¶‡¶ø‡¶¨‡•§");
                    window.location.href = 'home.html';
                } else {
                    alert("‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§! ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
                    btn.disabled = false;
                    btn.innerText = "‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®";
                }
            } catch (err) {
                alert("‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ! ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
                btn.disabled = false;
                btn.innerText = "‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®";
            }
        }
    </script>
</body>
  </html>
  
